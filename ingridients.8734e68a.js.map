{"mappings":"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","sources":["src/js/ingredientHTML.js"],"sourcesContent":["import { storageIngr, markupModalIngr, srchByIngr, modalIngrInteraction } from \"./yuras-m\";\n\nimport { checkLocalStorageIngr } from \"./check-local-storageIngr\";\n\nconst ingrList = document.querySelector('.favorite-ingridients');\nconst emptyText = document.querySelector('.empty-text');\nconsole.log(ingrList)\n\nlet ingrPerPage;\n\nlet myIngr = [];\n\nconsole.log( localStorage.getItem('drinksIngrId'))\n\n\ngetMurkupIngr();\n\nfunction getMurkupIngr() {\n\n  if (storageIngr.length > 0) {\n    emptyText.textContent = '';\n    \n    storageIngr.forEach(async el=>{\n      let json = await searchIngrById(el)\n      console.log(json)\n      \n\n      let result = json.ingredients[0];\n      myIngr.push(result)\n      markIngr()\n    })\n\n} else {\n    ingrList.innerHTML = '';\n    emptyText.innerHTML = ` You haven't added any <br />favorite cocktails yet`;\n  }\n}\n\nfunction markIngr (){\n    let shownIngr\n    \n    if (innerWidth < 768) {\n    ingrPerPage = 3;\n  } else if (innerWidth >= 768 && innerWidth < 1280) {\n    ingrPerPage = 6;\n  } else if (innerWidth >= 1280) {\n    ingrPerPage = 9;\n  }\n  \n  shownIngr = myIngr.slice(0, ingrPerPage);\n  ingrList.innerHTML = shownIngr.map(letMarkupMyIngr).join('');\n  console.log('dsfg')\n  \n  \n   actionOnLikeBtnIngr()\n//    showModalInfo()\n    onpenModalIngredient()\n   \n  }\n  \n  async function searchIngrById(el) {\n    try {\n      return await fetch(\n        `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?iid=${el}`\n      ).then(response => response.json());\n    } catch (error) {\n      console.log('Помилка при ФЕТЧІ ===> ', error);\n    }\n  }\n  function letMarkupMyIngr(el) {\n    return `\n      <li class=\"coctails__item-ingr\">\n        <h2 class=\"cocktails__item-title\">${el.strIngredient}</h2>\n        <p class=\"cocktails__item-text\">${el.strType}</p>\n        <div class=\"coctails__btns\">\n          <button class=\"btn__read-more\" type=\"button\" id=\"${el.strIngredient}\">\n            Learn more\n          </button>\n          <button id='${el.idIngredient}' class=\"btn__like \" type=\"button\">\n            Remove\n            <svg class=\"btn__like-icon active-like-btn\"><use xlink:href=\"#icon-Heart\"><symbol id=\"icon-Heart\" viewBox=\"0 0 35 32\">\n            <path fill=\"#fd5103\" style=\"fill: var(--color1, #fd5103)\" d=\"M17.684 32l-2.564-2.302c-9.107-8.144-15.12-13.515-15.12-20.107 0-5.371 4.28-9.591 9.726-9.591 3.077 0 6.030 1.413 7.958 3.645 1.928-2.232 4.881-3.645 7.958-3.645 5.447 0 9.726 4.22 9.726 9.591 0 6.592-6.013 11.963-15.12 20.124l-2.564 2.284z\"></path>\n            <path  d=\"M17.684 28.632l-2.076-1.817c-7.373-6.429-12.24-10.67-12.24-15.874 0-4.24 3.464-7.572 7.874-7.572 2.491 0 4.882 1.115 6.442 2.877 1.56-1.762 3.951-2.877 6.442-2.877 4.409 0 7.874 3.332 7.874 7.572 0 5.204-4.867 9.444-12.24 15.888l-2.076 1.803z\"></path>\n            </symbol></use></svg>\n          </button>\n        </div>\n      </li>\n      `;\n  }\n\n\n  export function actionOnLikeBtnIngr() {\n \n\n    const btnLike = document.querySelectorAll('.btn__like');\n   \n     btnLike.forEach(el => el.addEventListener('click', userChoise));\n   \n     function userChoise(event) {\n       console.log(event)\n       if (event.target.id.length === 0) {\n         return;\n       }\n       if (!storageIngr.includes(event.target.id)) {\n         storageIngr.push(event.target.id);\n         event.path[0].lastElementChild.classList.add('active-like-btn');\n         event.path[0].firstChild.textContent = 'Remove';\n\n       } else {\n         storageIngr.splice(storageIngr.indexOf(event.target.id), 1);\n         event.path[0].lastElementChild.classList.remove('active-like-btn');\n         event.path[0].firstChild.textContent = 'Add to';\n        \n       }\n       localStorage.setItem('drinksIngrId', storageIngr);\n     }\n   }\n\n   export function onpenModalIngredient() {\n\n    const ingredientLink = document.querySelectorAll('.btn__read-more');\n  \n    ingredientLink.forEach(el => el.addEventListener('click', openIngrModal));\n    let resultIngr;\n    async function openIngrModal(event) {\n    //   event.preventDefault();\n      console.log(event.target.id)\n      let ingr = event.target.id;\n\n      const jsonn = await srchByIngr(ingr);\n      console.log(jsonn)\n\n    //   console.log(storageIngr)\n  \n\n      resultIngr = jsonn.ingredients[0];\n\n      let a = resultIngr.idIngredient\n    console.log(a)\n    let res = checkLocalStorageIngr(a)\n\n      \n\n      markupModalIngr(resultIngr, res);\n      modalIngrInteraction();\n    }\n  } "],"names":["$77270c7289be7a41$var$ingrPerPage","$bpxeT","parcelRequire","$77270c7289be7a41$var$ingrList","document","querySelector","$77270c7289be7a41$var$emptyText","console","log","$77270c7289be7a41$var$myIngr","$77270c7289be7a41$var$markIngr","shownIngr","innerWidth","slice","innerHTML","map","$77270c7289be7a41$var$letMarkupMyIngr","join","userChoise","event","target","id","length","$6cvB7","storageIngr","includes","splice","indexOf","path","lastElementChild","classList","remove","firstChild","textContent","push","add","localStorage","setItem","querySelectorAll","forEach","el","addEventListener","$77270c7289be7a41$export$419aef60fe4b73c3","resultIngr","openIngrModal","_openIngrModal","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","ingr","jsonn","a","res","srchByIngr","_ctx","sent","ingredients","idIngredient","$5UoXj","checkLocalStorageIngr","markupModalIngr","modalIngrInteraction","$77270c7289be7a41$export$30557a5a92d6259f","$77270c7289be7a41$var$searchIngrById","$77270c7289be7a41$var$_searchIngrById","fetch","concat","then","response","json","t0","strIngredient","strType","getItem","result"],"version":3,"file":"ingridients.8734e68a.js.map"}